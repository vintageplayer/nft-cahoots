{"remainingRequest":"/Users/gauthamgsabahit/workspace/jointnft/jointnft-dapp/node_modules/thread-loader/dist/cjs.js!/Users/gauthamgsabahit/workspace/jointnft/jointnft-dapp/node_modules/babel-loader/lib/index.js!/Users/gauthamgsabahit/workspace/jointnft/jointnft-dapp/src/store/index.js","dependencies":[{"path":"/Users/gauthamgsabahit/workspace/jointnft/jointnft-dapp/src/store/index.js","mtime":1643756414371},{"path":"/Users/gauthamgsabahit/workspace/jointnft/jointnft-dapp/babel.config.js","mtime":1641967012139},{"path":"/Users/gauthamgsabahit/workspace/jointnft/jointnft-dapp/node_modules/cache-loader/dist/cjs.js","mtime":1641967408297},{"path":"/Users/gauthamgsabahit/workspace/jointnft/jointnft-dapp/node_modules/thread-loader/dist/cjs.js","mtime":1641967405545},{"path":"/Users/gauthamgsabahit/workspace/jointnft/jointnft-dapp/node_modules/babel-loader/lib/index.js","mtime":1641967408435}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3REZXN0cnVjdHVyaW5nRW1wdHkgZnJvbSAiL1VzZXJzL2dhdXRoYW1nc2FiYWhpdC93b3Jrc3BhY2Uvam9pbnRuZnQvam9pbnRuZnQtZGFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0RGVzdHJ1Y3R1cmluZ0VtcHR5IjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9nYXV0aGFtZ3NhYmFoaXQvd29ya3NwYWNlL2pvaW50bmZ0L2pvaW50bmZ0LWRhcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIgZnJvbSAiL1VzZXJzL2dhdXRoYW1nc2FiYWhpdC93b3Jrc3BhY2Uvam9pbnRuZnQvam9pbnRuZnQtZGFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgVnVleCBmcm9tICJ2dWV4IjsKaW1wb3J0IGZldGNoIGZyb20gImNyb3NzLWZldGNoIjsKaW1wb3J0IFdlYjMgZnJvbSAid2ViMyI7CmltcG9ydCBXZWIzTW9kYWwgZnJvbSAid2ViM21vZGFsIjsKaW1wb3J0IE1vcmFsaXMgZnJvbSAiLi4vcGx1Z2lucy9tb3JhbGlzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKCnZhciBjb2xsZWN0aW9uQUJJID0gcmVxdWlyZSgiLi4vY29udHJhY3REZXRhaWxzL2NvbGxlY3Rpb24uanNvbiIpWyJhYmkiXTsKCnZhciBmdW5kRmFjdG9yeUFCSSA9IHJlcXVpcmUoIi4uL2NvbnRyYWN0RGV0YWlscy9GdW5kRmFjdG9yeS5qc29uIilbImFiaSJdOwoKdmFyIG5mdEZ1bmRWb3RpbmdKc29uID0gcmVxdWlyZSgiLi4vY29udHJhY3REZXRhaWxzL25mdEZ1bmRWb3RpbmcuanNvbiIpOwoKdmFyIGlBdWN0aW9uSG91c2VBYmkgPSByZXF1aXJlKCIuLi9jb250cmFjdERldGFpbHMvSUF1Y3Rpb25Ib3VzZS5qc29uIilbImFiaSJdOwoKdmFyIGV0aEFkZHJlc3MgPSAiMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwIjsKVnVlLnVzZShWdWV4KTsKdmFyIHByb3ZpZGVyT3B0aW9ucyA9IHsKICAvKiBTZWUgUHJvdmlkZXIgT3B0aW9ucyBTZWN0aW9uICovCn07CnZhciB3ZWIzTW9kYWwgPSBuZXcgV2ViM01vZGFsKHsKICBuZXR3b3JrOiAibWFpbm5ldCIsCiAgLy8gb3B0aW9uYWwKICBjYWNoZVByb3ZpZGVyOiB0cnVlLAogIC8vIG9wdGlvbmFsCiAgcHJvdmlkZXJPcHRpb25zOiBwcm92aWRlck9wdGlvbnMgLy8gcmVxdWlyZWQKCn0pOwoKZnVuY3Rpb24gcm91bmRUb1R3byhudW0pIHsKICByZXR1cm4gKyhNYXRoLnJvdW5kKG51bSArICJlKzIiKSArICJlLTIiKTsKfSAvL2dldHMgbG93ZXN0IHNhbGUgYW1vdW50IGZyb20gb3BlbnNlYSBBUEkgLy9OT1QgSU4gVVNFIEFOWU1PUkUKCgpmdW5jdGlvbiBmaW5kTG93ZXN0U2FsZUFtb3VudChvcmRlcnMpIHsKICB2YXIgbG93ZXN0X3NhbGVfcHJpY2UgPSA5OTk5OTk7CgogIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvcmRlcnMpLAogICAgICBfc3RlcDsKCiAgdHJ5IHsKICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgIHZhciBpID0gX3N0ZXAudmFsdWU7CgogICAgICBpZiAoaVsic2lkZSJdID09IDEpIHsKICAgICAgICB2YXIgd2VpID0gaVsiY3VycmVudF9wcmljZSJdLnNwbGl0KCIuIilbMF07CiAgICAgICAgdmFyIGxpc3RpbmdfcHJpY2UgPSBXZWIzLnV0aWxzLmZyb21XZWkod2VpLCAiZXRoZXIiKTsKCiAgICAgICAgaWYgKGxpc3RpbmdfcHJpY2UgPCBsb3dlc3Rfc2FsZV9wcmljZSkgewogICAgICAgICAgbG93ZXN0X3NhbGVfcHJpY2UgPSBsaXN0aW5nX3ByaWNlOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2l0ZXJhdG9yLmUoZXJyKTsKICB9IGZpbmFsbHkgewogICAgX2l0ZXJhdG9yLmYoKTsKICB9CgogIGNvbnNvbGUubG9nKGxvd2VzdF9zYWxlX3ByaWNlKTsKICByZXR1cm4gcm91bmRUb1R3byhsb3dlc3Rfc2FsZV9wcmljZSk7Cn0KCmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgd2ViMzogbnVsbCwKICAgIHByb3ZpZGVyOiBudWxsLAogICAgYWNjb3VudHM6IG51bGwsCiAgICBuZXR3b3JrSWQ6IG51bGwsCiAgICBjaGFpbklkOiAwLAogICAgYWN0aXZlOiBmYWxzZSwKICAgIGFjY291bnQ6IG51bGwsCiAgICB3ZWIzTW9kYWw6IG51bGwsCiAgICBtYXRpY0JhbGFuY2U6IDAsCiAgICBuZnRMaXN0SW5GdW5kOiB7fSwKICAgIGNvbGxlY3Rpb25MaXN0OiBbXSwKICAgIGNvbGxlY3Rpb25EZXRhaWxzOiB7CiAgICAgIG93bmVyQWRkcmVzczogIiIsCiAgICAgIGNvbnRyYWN0QmFsYW5jZTogMCwKICAgICAgdG9rZW5TdGFydFByaWNlOiAwLAogICAgICB0b2tlblByaWNlOiAwLAogICAgICB1c2VyVG9rZW5CYWxhbmNlOiAwLAogICAgICBidXlpbmdFbmFibGVkOiB0cnVlLAogICAgICBzZWxsaW5nRW5hYmxlZDogdHJ1ZQogICAgfSwKICAgIG5mdERldGFpbHM6IHt9LAogICAgaXNFcnJvcjogMAogIH0sCiAgZ2V0dGVyczogewogICAgZ2V0RnVuZHM6IGZ1bmN0aW9uIGdldEZ1bmRzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5uZnRGdW5kczsKICAgIH0sCiAgICBnZXROb09mRnVuZHM6IGZ1bmN0aW9uIGdldE5vT2ZGdW5kcyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUubmZ0RnVuZHMubGVuZ3RoOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRXZWIzOiBmdW5jdGlvbiBzZXRXZWIzKHN0YXRlLCB3ZWIzKSB7CiAgICAgIHN0YXRlLndlYjMgPSB3ZWIzOwogICAgfSwKICAgIHNldFdlYjNNb2RhbDogZnVuY3Rpb24gc2V0V2ViM01vZGFsKHN0YXRlLCB3ZWIzTW9kYWwpIHsKICAgICAgc3RhdGUud2ViM01vZGFsID0gd2ViM01vZGFsOwogICAgfSwKICAgIHNldFByb3ZpZGVyOiBmdW5jdGlvbiBzZXRQcm92aWRlcihzdGF0ZSwgcHJvdmlkZXIpIHsKICAgICAgc3RhdGUucHJvdmlkZXIgPSBwcm92aWRlcjsKICAgIH0sCiAgICBzZXRBY2NvdW50czogZnVuY3Rpb24gc2V0QWNjb3VudHMoc3RhdGUsIGFjY291bnRzKSB7CiAgICAgIHN0YXRlLmFjY291bnRzID0gYWNjb3VudHM7CiAgICB9LAogICAgc2V0QWNjb3VudDogZnVuY3Rpb24gc2V0QWNjb3VudChzdGF0ZSwgYWNjb3VudCkgewogICAgICBzdGF0ZS5hY2NvdW50ID0gYWNjb3VudDsKICAgICAgc3RhdGUud2ViMy5ldGguZGVmYXVsdEFjY291bnQgPSBhY2NvdW50OwogICAgfSwKICAgIHNldEFjdGl2ZTogZnVuY3Rpb24gc2V0QWN0aXZlKHN0YXRlLCBpc0FjdGl2ZSkgewogICAgICBzdGF0ZS5hY3RpdmUgPSBpc0FjdGl2ZTsKICAgIH0sCiAgICBzZXROZXR3b3JrSWQ6IGZ1bmN0aW9uIHNldE5ldHdvcmtJZChzdGF0ZSwgbmV0d29ya0lkKSB7CiAgICAgIHN0YXRlLm5ldHdvcmtJZCA9IG5ldHdvcmtJZDsKICAgIH0sCiAgICBzZXRDaGFpbklkOiBmdW5jdGlvbiBzZXRDaGFpbklkKHN0YXRlLCBjaGFpbklkKSB7CiAgICAgIHN0YXRlLmNoYWluSWQgPSBjaGFpbklkOwogICAgfSwKICAgIHNldE1hdGljQmFsYW5jZTogZnVuY3Rpb24gc2V0TWF0aWNCYWxhbmNlKHN0YXRlLCBtYXRpY0JhbGFuY2UpIHsKICAgICAgc3RhdGUubWF0aWNCYWxhbmNlID0gbWF0aWNCYWxhbmNlOwogICAgfSwKICAgIHNldE5mdExpc3RJbkFkZHJlc3M6IGZ1bmN0aW9uIHNldE5mdExpc3RJbkFkZHJlc3Moc3RhdGUsIF9yZWYpIHsKICAgICAgdmFyIG5mdExpc3QgPSBfcmVmLm5mdExpc3QsCiAgICAgICAgICBmdW5kQWRkcmVzcyA9IF9yZWYuZnVuZEFkZHJlc3M7CiAgICAgIFZ1ZS5zZXQoc3RhdGUubmZ0TGlzdEluRnVuZCwgZnVuZEFkZHJlc3MsIG5mdExpc3QpOwogICAgfSwKICAgIHNldENvbGxlY3Rpb25MaXN0OiBmdW5jdGlvbiBzZXRDb2xsZWN0aW9uTGlzdChzdGF0ZSwgY29sbGVjdGlvbkxpc3QpIHsKICAgICAgc3RhdGUuY29sbGVjdGlvbkxpc3QgPSBjb2xsZWN0aW9uTGlzdDsKICAgIH0sCiAgICBzZXRDb2xsZWN0aW9uRGV0YWlsczogZnVuY3Rpb24gc2V0Q29sbGVjdGlvbkRldGFpbHMoc3RhdGUsIGNvbGxlY3Rpb25EZXRhaWxzKSB7CiAgICAgIHN0YXRlLmNvbGxlY3Rpb25EZXRhaWxzID0gY29sbGVjdGlvbkRldGFpbHM7IC8vIFZ1ZS5zZXQoc3RhdGUuY29sbGVjdGlvbkRldGFpbHMsIG93bmVyQWRkcmVzcywgY29sbGVjdGlvbkRldGFpbHMub3duZXJBZGRyZXNzKTsKICAgICAgLy8gVnVlLnNldChzdGF0ZS5jb2xsZWN0aW9uRGV0YWlscywgdG9rZW5TdGFydFByaWNlLCBjb2xsZWN0aW9uRGV0YWlscy50b2tlblN0YXJ0UHJpY2UpOwogICAgICAvLyBWdWUuc2V0KHN0YXRlLmNvbGxlY3Rpb25EZXRhaWxzLCB0b2tlblByaWNlLCBjb2xsZWN0aW9uRGV0YWlscy50b2tlblByaWNlKTsKICAgICAgLy8gVnVlLnNldChzdGF0ZS5jb2xsZWN0aW9uRGV0YWlscywgbmFtZSwgY29sbGVjdGlvbkRldGFpbHMubmFtZSk7CiAgICAgIC8vIFZ1ZS5zZXQoc3RhdGUuY29sbGVjdGlvbkRldGFpbHMsIHN5bWJvbCwgY29sbGVjdGlvbkRldGFpbHMuc3ltYm9sKTsKICAgICAgLy8gVnVlLnNldChzdGF0ZS5jb2xsZWN0aW9uRGV0YWlscywgdXNlclRva2VuQmFsYW5jZSwgY29sbGVjdGlvbkRldGFpbHMudXNlclRva2VuQmFsYW5jZSk7CiAgICAgIC8vIFZ1ZS5zZXQoc3RhdGUuY29sbGVjdGlvbkRldGFpbHMsIGNvbnRyYWN0QmFsYW5jZSwgY29sbGVjdGlvbkRldGFpbHMuY29udHJhY3RCYWxhbmNlKTsKICAgIH0sCiAgICBzZXRORlRMaXN0OiBmdW5jdGlvbiBzZXRORlRMaXN0KHN0YXRlLCBuZnRMaXN0KSB7CiAgICAgIHN0YXRlLm5mdERldGFpbHMgPSBuZnRMaXN0OwogICAgfSwKICAgIHNldElzRXJyb3I6IGZ1bmN0aW9uIHNldElzRXJyb3Ioc3RhdGUsIGVycikgewogICAgICBzdGF0ZS5pc0Vycm9yID0gZXJyOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgY29ubmVjdFRvV2FsbGV0OiBmdW5jdGlvbiBjb25uZWN0VG9XYWxsZXQoX3JlZjIpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcHJvdmlkZXIsIHdlYjMsIGFjY291bnRzLCBuZXR3b3JrSWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiB3ZWIzTW9kYWwuY29ubmVjdCgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBwcm92aWRlciA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgd2ViMyA9IG5ldyBXZWIzKHByb3ZpZGVyKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgic2V0V2ViMyIsIHdlYjMpOwogICAgICAgICAgICAgICAgY29tbWl0KCJzZXRQcm92aWRlciIsIHByb3ZpZGVyKTsgLy8gIEdldCBBY2NvdW50cwoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiB3ZWIzLmV0aC5nZXRBY2NvdW50cygpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBhY2NvdW50cyA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgY29tbWl0KCJzZXRBY2NvdW50cyIsIGFjY291bnRzKTsKCiAgICAgICAgICAgICAgICBpZiAoYWNjb3VudHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICBjb21taXQoInNldEFjY291bnQiLCBhY2NvdW50c1swXSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIHJldHVybiB3ZWIzLmV0aC5uZXQuZ2V0SWQoKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIG5ldHdvcmtJZCA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cobmV0d29ya0lkKTsKCiAgICAgICAgICAgICAgICBpZiAobmV0d29ya0lkICE9IDQpIHsKICAgICAgICAgICAgICAgICAgYWxlcnQoIlN3aXRjaCB0byBSaW5rZWJ5IG5ldHdvcmsiKTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIm5vdCBjb25uZWN0ZWQgdG8gUmlua2VieSBOZXR3b3JrIik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29tbWl0KCJzZXROZXR3b3JrSWQiLCBuZXR3b3JrSWQpOwogICAgICAgICAgICAgICAgY29tbWl0KCJzZXRBY3RpdmUiLCB0cnVlKTsKICAgICAgICAgICAgICAgIHByb3ZpZGVyLm9uKCJjb25uZWN0IiwgLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGluZm8pIHsKICAgICAgICAgICAgICAgICAgICB2YXIgY2hhaW5JZDsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFpbklkID0gcGFyc2VJbnQoaW5mby5jaGFpbklkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1pdCgic2V0Q2hhaW5JZCIsIGNoYWluSWQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImNvbm5lY3QiLCBpbmZvKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CiAgICAgICAgICAgICAgICBwcm92aWRlci5vbigiYWNjb3VudHNDaGFuZ2VkIiwgLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWY0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihhY2NvdW50cykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShhY2NvdW50cy5sZW5ndGggPiAwKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1pdCgic2V0QWNjb3VudCIsIGFjY291bnRzWzBdKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goInJlc2V0QXBwIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJhY2NvdW50c0NoYW5nZWQiKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDIpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CiAgICAgICAgICAgICAgICBwcm92aWRlci5vbigiY2hhaW5DaGFuZ2VkIiwgLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWY1ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhjaGFpbklkKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluSWQgPSBwYXJzZUludChjaGFpbklkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1pdCgic2V0Q2hhaW5JZCIsIGNoYWluSWQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImNoYWluQ2hhbmdlZCIsIGNoYWluSWQpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmNS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRDb2xsZWN0aW9uczogZnVuY3Rpb24gbG9hZENvbGxlY3Rpb25zKF9yZWY2KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciBjb21taXQsIHN0YXRlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNi5jb21taXQsIHN0YXRlID0gX3JlZjYuc3RhdGU7CiAgICAgICAgICAgICAgICBheGlvcy5nZXQoIi9nZXRDb2xsZWN0aW9ucyIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgICAgICBjb21taXQoInNldENvbGxlY3Rpb25MaXN0IiwgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZE5GVHM6IGZ1bmN0aW9uIGxvYWRORlRzKF9yZWY3KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHZhciBjb21taXQsIHN0YXRlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNy5jb21taXQsIHN0YXRlID0gX3JlZjcuc3RhdGU7CiAgICAgICAgICAgICAgICBheGlvcy5nZXQoIi9nZXRORlRzIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICAgIGNvbW1pdCgic2V0TkZUTGlzdCIsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldEZ1bmRDb250cmFjdDogZnVuY3Rpb24gZ2V0RnVuZENvbnRyYWN0KF9yZWY4LCBmdW5kQWRkcmVzcykgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICB2YXIgY29tbWl0LCBzdGF0ZSwgZnVuZENoZWNrc3VtQWRkcmVzcywgZnVuZENvbnRyYWN0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmOC5jb21taXQsIHN0YXRlID0gX3JlZjguc3RhdGU7CiAgICAgICAgICAgICAgICBfY29udGV4dDcucHJldiA9IDE7CiAgICAgICAgICAgICAgICBmdW5kQ2hlY2tzdW1BZGRyZXNzID0gV2ViMy51dGlscy50b0NoZWNrc3VtQWRkcmVzcyhmdW5kQWRkcmVzcyk7CiAgICAgICAgICAgICAgICBmdW5kQ29udHJhY3QgPSBuZXcgc3RhdGUud2ViMy5ldGguQ29udHJhY3QoY29sbGVjdGlvbkFCSSwgZnVuZENoZWNrc3VtQWRkcmVzcyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwgZnVuZENvbnRyYWN0KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQ3LnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQ3LnQwID0gX2NvbnRleHQ3WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQ3LnQwKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJjb25uZWN0ZWQgY29udHJhY3Qgbm90IGZvdW5kIik7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwgbnVsbCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcsIG51bGwsIFtbMSwgN11dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYnV5RnVuZFRva2VuczogZnVuY3Rpb24gYnV5RnVuZFRva2VucyhfcmVmOSwgX3JlZjEwKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICB2YXIgY29tbWl0LCBtYXRpY0Ftb3VudCwgY29udHJhY3RJZCwgZnVuZENvbnRyYWN0LCB3ZWlBbW91bnQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY5LmNvbW1pdDsKICAgICAgICAgICAgICAgIG1hdGljQW1vdW50ID0gX3JlZjEwLm1hdGljQW1vdW50LCBjb250cmFjdElkID0gX3JlZjEwLmNvbnRyYWN0SWQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDgucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZGlzcGF0Y2goImdldEZ1bmRDb250cmFjdCIsIGNvbnRyYWN0SWQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBmdW5kQ29udHJhY3QgPSBfY29udGV4dDguc2VudDsKICAgICAgICAgICAgICAgIHdlaUFtb3VudCA9IFdlYjMudXRpbHMudG9XZWkobWF0aWNBbW91bnQsICdldGhlcicpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmRDb250cmFjdC5tZXRob2RzLmJ1eVRva2VucygpLnNlbmQoewogICAgICAgICAgICAgICAgICB2YWx1ZTogd2VpQW1vdW50LAogICAgICAgICAgICAgICAgICBmcm9tOiBfdGhpcy5zdGF0ZS5hY2NvdW50CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX3RoaXMuZGlzcGF0Y2goInJlZnJlc2hCYWxhbmNlIiwgY29udHJhY3RJZCk7CgogICAgICAgICAgICAgICAgY29tbWl0KCJzZXRJc0Vycm9yIiwgMCk7IC8vcmV0dXJuIGZhbHNlOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5wcmV2ID0gMTM7CiAgICAgICAgICAgICAgICBfY29udGV4dDgudDAgPSBfY29udGV4dDhbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDgudDApOwogICAgICAgICAgICAgICAgY29tbWl0KCJzZXRJc0Vycm9yIiwgMSk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTgsIG51bGwsIFtbMiwgMTNdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNlbGxGdW5kVG9rZW5zOiBmdW5jdGlvbiBzZWxsRnVuZFRva2VucyhfcmVmMTEsIF9yZWYxMikgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgIHZhciBjb21taXQsIHRva2VuQW1vdW50LCBjb250cmFjdElkLCBmdW5kQ29udHJhY3Q7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxMS5jb21taXQ7CiAgICAgICAgICAgICAgICB0b2tlbkFtb3VudCA9IF9yZWYxMi50b2tlbkFtb3VudCwgY29udHJhY3RJZCA9IF9yZWYxMi5jb250cmFjdElkOwogICAgICAgICAgICAgICAgX2NvbnRleHQ5LnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5kaXNwYXRjaCgiZ2V0RnVuZENvbnRyYWN0IiwgY29udHJhY3RJZCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGZ1bmRDb250cmFjdCA9IF9jb250ZXh0OS5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2codG9rZW5BbW91bnQpOwogICAgICAgICAgICAgICAgdG9rZW5BbW91bnQgPSBXZWIzLnV0aWxzLnRvV2VpKHRva2VuQW1vdW50LCAnZXRoZXInKTsgLy8gdG9kbzogbXVsdGlwbGUgdG9rZW5BbW91bnQgYnkgMTBeMTggYmVmb3JlIHNlbmRpbmcKCiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmRDb250cmFjdC5tZXRob2RzLnNlbGxUb2tlbnModG9rZW5BbW91bnQpLnNlbmQoewogICAgICAgICAgICAgICAgICBmcm9tOiBfdGhpczIuc3RhdGUuYWNjb3VudAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjb250cmFjdElkKTsKCiAgICAgICAgICAgICAgICBfdGhpczIuZGlzcGF0Y2goInJlZnJlc2hCYWxhbmNlIiwgY29udHJhY3RJZCk7CgogICAgICAgICAgICAgICAgY29tbWl0KCJzZXRJc0Vycm9yIiwgMCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dDkucHJldiA9IDE1OwogICAgICAgICAgICAgICAgX2NvbnRleHQ5LnQwID0gX2NvbnRleHQ5WyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQ5LnQwKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgic2V0SXNFcnJvciIsIDEpOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5LCBudWxsLCBbWzIsIDE1XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBwYXVzZUJ1eUFuZFNlbGw6IGZ1bmN0aW9uIHBhdXNlQnV5QW5kU2VsbChfcmVmMTMsIF9yZWYxNCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgICB2YXIgY29tbWl0LCBjb250cmFjdElkLCBmdW5kQ29udHJhY3Q7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMTMuY29tbWl0OwogICAgICAgICAgICAgICAgY29udHJhY3RJZCA9IF9yZWYxNC5jb250cmFjdElkOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuZGlzcGF0Y2goImdldEZ1bmRDb250cmFjdCIsIGNvbnRyYWN0SWQpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBmdW5kQ29udHJhY3QgPSBfY29udGV4dDEwLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmRDb250cmFjdC5tZXRob2RzLnRvZ2dsZVRva2VuQ29udmVyc2lvbigpLnNlbmQoewogICAgICAgICAgICAgICAgICBmcm9tOiBfdGhpczMuc3RhdGUuYWNjb3VudAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF90aGlzMy5kaXNwYXRjaCgicmVmcmVzaEJhbGFuY2UiLCBjb250cmFjdElkKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTApOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB0b2dnbGVCdXk6IGZ1bmN0aW9uIHRvZ2dsZUJ1eShfcmVmMTUsIF9yZWYxNikgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICB2YXIgY29tbWl0LCBjb250cmFjdElkLCBmdW5kQ29udHJhY3Q7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMTUuY29tbWl0OwogICAgICAgICAgICAgICAgY29udHJhY3RJZCA9IF9yZWYxNi5jb250cmFjdElkOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LmRpc3BhdGNoKCJnZXRGdW5kQ29udHJhY3QiLCBjb250cmFjdElkKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgZnVuZENvbnRyYWN0ID0gX2NvbnRleHQxMS5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBmdW5kQ29udHJhY3QubWV0aG9kcy50b2dnbGVCdXlpbmcoKS5zZW5kKHsKICAgICAgICAgICAgICAgICAgZnJvbTogX3RoaXM0LnN0YXRlLmFjY291bnQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfdGhpczQuZGlzcGF0Y2goInJlZnJlc2hCYWxhbmNlIiwgY29udHJhY3RJZCk7CgogICAgICAgICAgICAgICAgY29tbWl0KCJzZXRJc0Vycm9yIiwgMCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5wcmV2ID0gMTI7CiAgICAgICAgICAgICAgICBfY29udGV4dDExLnQwID0gX2NvbnRleHQxMVsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0MTEudDApOwogICAgICAgICAgICAgICAgY29tbWl0KCJzZXRJc0Vycm9yIiwgMSk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMSwgbnVsbCwgW1syLCAxMl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdG9nZ2xlU2VsbDogZnVuY3Rpb24gdG9nZ2xlU2VsbChfcmVmMTcsIF9yZWYxOCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHsKICAgICAgICB2YXIgY29tbWl0LCBjb250cmFjdElkLCBmdW5kQ29udHJhY3Q7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMTcuY29tbWl0OwogICAgICAgICAgICAgICAgY29udHJhY3RJZCA9IF9yZWYxOC5jb250cmFjdElkOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LmRpc3BhdGNoKCJnZXRGdW5kQ29udHJhY3QiLCBjb250cmFjdElkKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgZnVuZENvbnRyYWN0ID0gX2NvbnRleHQxMi5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBmdW5kQ29udHJhY3QubWV0aG9kcy50b2dnbGVTZWxsaW5nKCkuc2VuZCh7CiAgICAgICAgICAgICAgICAgIGZyb206IF90aGlzNS5zdGF0ZS5hY2NvdW50CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX3RoaXM1LmRpc3BhdGNoKCJyZWZyZXNoQmFsYW5jZSIsIGNvbnRyYWN0SWQpOwoKICAgICAgICAgICAgICAgIGNvbW1pdCgic2V0SXNFcnJvciIsIDApOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIucHJldiA9IDEyOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMi50MCA9IF9jb250ZXh0MTJbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDEyLnQwKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgic2V0SXNFcnJvciIsIDEpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTIsIG51bGwsIFtbMiwgMTJdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHRyYW5zZmVyRnVuZHM6IGZ1bmN0aW9uIHRyYW5zZmVyRnVuZHMoX3JlZjE5LCBfcmVmMjApIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgY29udHJhY3RJZCwgdG9BZGRyZXNzLCB2YWx1ZSwgZnVuZENvbnRyYWN0LCB0bywgZXRoQW1vdW50OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTMkKF9jb250ZXh0MTMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMy5wcmV2ID0gX2NvbnRleHQxMy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjE5LmNvbW1pdDsKICAgICAgICAgICAgICAgIGNvbnRyYWN0SWQgPSBfcmVmMjAuY29udHJhY3RJZCwgdG9BZGRyZXNzID0gX3JlZjIwLnRvQWRkcmVzcywgdmFsdWUgPSBfcmVmMjAudmFsdWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYuZGlzcGF0Y2goImdldEZ1bmRDb250cmFjdCIsIGNvbnRyYWN0SWQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBmdW5kQ29udHJhY3QgPSBfY29udGV4dDEzLnNlbnQ7CiAgICAgICAgICAgICAgICB0byA9IFdlYjMudXRpbHMudG9DaGVja3N1bUFkZHJlc3ModG9BZGRyZXNzKTsKICAgICAgICAgICAgICAgIGV0aEFtb3VudCA9IFdlYjMudXRpbHMudG9XZWkodmFsdWUsICdldGhlcicpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gZnVuZENvbnRyYWN0Lm1ldGhvZHMudHJhbnNmZXJGdW5kcyh0bywgZXRoQW1vdW50KS5zZW5kKHsKICAgICAgICAgICAgICAgICAgZnJvbTogX3RoaXM2LnN0YXRlLmFjY291bnQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgY29tbWl0KCJzZXRJc0Vycm9yIiwgMCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5wcmV2ID0gMTM7CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLnQwID0gX2NvbnRleHQxM1siY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0MTMudDApOwogICAgICAgICAgICAgICAgY29tbWl0KCJzZXRJc0Vycm9yIiwgMSk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMywgbnVsbCwgW1syLCAxM11dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVmcmVzaEJhbGFuY2U6IGZ1bmN0aW9uIHJlZnJlc2hCYWxhbmNlKF9yZWYyMSwgZnVuZEFkZHJlc3MpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTQoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNCQoX2NvbnRleHQxNCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE0LnByZXYgPSBfY29udGV4dDE0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfb2JqZWN0RGVzdHJ1Y3R1cmluZ0VtcHR5KF9yZWYyMSk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczcuZGlzcGF0Y2goImdldE1hdGljQmFsYW5jZSIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNy5kaXNwYXRjaCgiZ2V0Q29sbGVjdGlvbkRldGFpbHMiLCB7CiAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25Db250cmFjdElkOiBmdW5kQWRkcmVzcwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0TWF0aWNCYWxhbmNlOiBmdW5jdGlvbiBnZXRNYXRpY0JhbGFuY2UoX3JlZjIyKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNSgpIHsKICAgICAgICB2YXIgY29tbWl0LCBzdGF0ZSwgbWF0aWNCYWxhbmNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTUkKF9jb250ZXh0MTUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNS5wcmV2ID0gX2NvbnRleHQxNS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIyLmNvbW1pdCwgc3RhdGUgPSBfcmVmMjIuc3RhdGU7CiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLndlYjMuZXRoLmdldEJhbGFuY2Uoc3RhdGUuYWNjb3VudCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIG1hdGljQmFsYW5jZSA9IF9jb250ZXh0MTUuc2VudDsKICAgICAgICAgICAgICAgIGNvbW1pdCgic2V0TWF0aWNCYWxhbmNlIiwgTnVtYmVyKFdlYjMudXRpbHMuZnJvbVdlaShtYXRpY0JhbGFuY2UsICJldGhlciIpKS50b0ZpeGVkKDMpKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRDb2xsZWN0aW9uRGV0YWlsczogZnVuY3Rpb24gZ2V0Q29sbGVjdGlvbkRldGFpbHMoX3JlZjIzLCBfcmVmMjQpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTYoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgc3RhdGUsIGNvbGxlY3Rpb25Db250cmFjdElkLCBjb2xsZWN0aW9uRGV0YWlscywgZnVuZENvbnRyYWN0LCB0b2tlbkJ1eVByaWNlLCB0b2tlblNlbGxQcmljZSwgdXNlclRva2VuQmFsYW5jZSwgY29udHJhY3RCYWxhbmNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTYkKF9jb250ZXh0MTYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIzLmNvbW1pdCwgc3RhdGUgPSBfcmVmMjMuc3RhdGU7CiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uQ29udHJhY3RJZCA9IF9yZWYyNC5jb2xsZWN0aW9uQ29udHJhY3RJZDsKICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25EZXRhaWxzID0ge307CiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOC5kaXNwYXRjaCgiZ2V0RnVuZENvbnRyYWN0IiwgY29sbGVjdGlvbkNvbnRyYWN0SWQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBmdW5kQ29udHJhY3QgPSBfY29udGV4dDE2LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmRDb250cmFjdC5tZXRob2RzLm93bmVyQWRkcmVzcygpLmNhbGwoKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgY29sbGVjdGlvbkRldGFpbHMub3duZXJBZGRyZXNzID0gX2NvbnRleHQxNi5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gZnVuZENvbnRyYWN0Lm1ldGhvZHMuX3Rva2VuQnV5UHJpY2UoKS5jYWxsKCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICB0b2tlbkJ1eVByaWNlID0gX2NvbnRleHQxNi5zZW50OwogICAgICAgICAgICAgICAgY29sbGVjdGlvbkRldGFpbHMudG9rZW5CdXlQcmljZSA9IE51bWJlcihXZWIzLnV0aWxzLmZyb21XZWkodG9rZW5CdXlQcmljZSwgImV0aGVyIikpLnRvRml4ZWQoMyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiBmdW5kQ29udHJhY3QubWV0aG9kcy5fdG9rZW5TZWxsUHJpY2UoKS5jYWxsKCk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICB0b2tlblNlbGxQcmljZSA9IF9jb250ZXh0MTYuc2VudDsKICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25EZXRhaWxzLnRva2VuU2VsbFByaWNlID0gTnVtYmVyKFdlYjMudXRpbHMuZnJvbVdlaSh0b2tlblNlbGxQcmljZSwgImV0aGVyIikpLnRvRml4ZWQoMyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgIHJldHVybiBmdW5kQ29udHJhY3QubWV0aG9kcy5uYW1lKCkuY2FsbCgpOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgY29sbGVjdGlvbkRldGFpbHMubmFtZSA9IF9jb250ZXh0MTYuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmRDb250cmFjdC5tZXRob2RzLnN5bWJvbCgpLmNhbGwoKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25EZXRhaWxzLnN5bWJvbCA9IF9jb250ZXh0MTYuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTYudDAgPSBOdW1iZXI7CiAgICAgICAgICAgICAgICBfY29udGV4dDE2LnQxID0gV2ViMy51dGlsczsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDI3OwogICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmRDb250cmFjdC5tZXRob2RzLnRvdGFsU3VwcGx5KCkuY2FsbCgpOwoKICAgICAgICAgICAgICBjYXNlIDI3OgogICAgICAgICAgICAgICAgX2NvbnRleHQxNi50MiA9IF9jb250ZXh0MTYuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTYudDMgPSBfY29udGV4dDE2LnQxLmZyb21XZWkuY2FsbChfY29udGV4dDE2LnQxLCBfY29udGV4dDE2LnQyKTsKICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25EZXRhaWxzLnRvdGFsU3VwcGx5ID0gKDAsIF9jb250ZXh0MTYudDApKF9jb250ZXh0MTYudDMpLnRvRml4ZWQoMyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAzMjsKICAgICAgICAgICAgICAgIHJldHVybiBmdW5kQ29udHJhY3QubWV0aG9kcy5iYWxhbmNlT2Yoc3RhdGUuYWNjb3VudCkuY2FsbCgpOwoKICAgICAgICAgICAgICBjYXNlIDMyOgogICAgICAgICAgICAgICAgdXNlclRva2VuQmFsYW5jZSA9IF9jb250ZXh0MTYuc2VudDsKICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25EZXRhaWxzLnVzZXJUb2tlbkJhbGFuY2UgPSBOdW1iZXIoV2ViMy51dGlscy5mcm9tV2VpKHVzZXJUb2tlbkJhbGFuY2UsICJldGhlciIpKS50b0ZpeGVkKDMpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMzY7CiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUud2ViMy5ldGguZ2V0QmFsYW5jZShjb2xsZWN0aW9uQ29udHJhY3RJZCk7CgogICAgICAgICAgICAgIGNhc2UgMzY6CiAgICAgICAgICAgICAgICBjb250cmFjdEJhbGFuY2UgPSBfY29udGV4dDE2LnNlbnQ7CiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uRGV0YWlscy5jb250cmFjdEJhbGFuY2UgPSBOdW1iZXIoV2ViMy51dGlscy5mcm9tV2VpKGNvbnRyYWN0QmFsYW5jZSwgImV0aGVyIikpLnRvRml4ZWQoMyk7IC8vIGNvbGxlY3Rpb25EZXRhaWxzLmJ1eWluZ0VuYWJsZWQ9dHJ1ZTsKICAgICAgICAgICAgICAgIC8vIGNvbGxlY3Rpb25EZXRhaWxzLnNlbGxpbmdFbmFibGVkPXRydWU7CgogICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gNDA7CiAgICAgICAgICAgICAgICByZXR1cm4gZnVuZENvbnRyYWN0Lm1ldGhvZHMuYnV5aW5nRW5hYmxlZCgpLmNhbGwoKTsKCiAgICAgICAgICAgICAgY2FzZSA0MDoKICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25EZXRhaWxzLmJ1eWluZ0VuYWJsZWQgPSBfY29udGV4dDE2LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA0MzsKICAgICAgICAgICAgICAgIHJldHVybiBmdW5kQ29udHJhY3QubWV0aG9kcy5zZWxsaW5nRW5hYmxlZCgpLmNhbGwoKTsKCiAgICAgICAgICAgICAgY2FzZSA0MzoKICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25EZXRhaWxzLnNlbGxpbmdFbmFibGVkID0gX2NvbnRleHQxNi5zZW50OwogICAgICAgICAgICAgICAgY29tbWl0KCJzZXRDb2xsZWN0aW9uRGV0YWlscyIsIGNvbGxlY3Rpb25EZXRhaWxzKTsKCiAgICAgICAgICAgICAgY2FzZSA0NToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2V0VG9rZW5QcmljZTogZnVuY3Rpb24gc2V0VG9rZW5QcmljZShfcmVmMjUsIF9yZWYyNikgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNygpIHsKICAgICAgICB2YXIgY29tbWl0LCB0b2tlblByaWNlLCBpc0J1eUJlaW5nTW9kaWZpZWQsIGNvbnRyYWN0SWQsIGZ1bmRDb250cmFjdCwgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTckKF9jb250ZXh0MTcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNy5wcmV2ID0gX2NvbnRleHQxNy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjI1LmNvbW1pdDsKICAgICAgICAgICAgICAgIHRva2VuUHJpY2UgPSBfcmVmMjYudG9rZW5QcmljZSwgaXNCdXlCZWluZ01vZGlmaWVkID0gX3JlZjI2LmlzQnV5QmVpbmdNb2RpZmllZCwgY29udHJhY3RJZCA9IF9yZWYyNi5jb250cmFjdElkOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNy5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM5LmRpc3BhdGNoKCJnZXRGdW5kQ29udHJhY3QiLCBjb250cmFjdElkKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgZnVuZENvbnRyYWN0ID0gX2NvbnRleHQxNy5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBmdW5kQ29udHJhY3QubWV0aG9kcy5zZXRUb2tlblByaWNlKHRva2VuUHJpY2UsIGlzQnV5QmVpbmdNb2RpZmllZCkuc2VuZCh7CiAgICAgICAgICAgICAgICAgIGZyb206IF90aGlzOS5zdGF0ZS5hY2NvdW50CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQxNy5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM5LmRpc3BhdGNoKCJyZWZyZXNoQmFsYW5jZSIsIGNvbnRyYWN0SWQpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgY29tbWl0KCJzZXRJc0Vycm9yIiwgMCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgX2NvbnRleHQxNy5wcmV2ID0gMTQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDE3LnQwID0gX2NvbnRleHQxN1siY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0MTcudDApOwogICAgICAgICAgICAgICAgY29tbWl0KCJzZXRJc0Vycm9yIiwgMSk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNywgbnVsbCwgW1syLCAxNF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY3JlYXRlRnVuZDogZnVuY3Rpb24gY3JlYXRlRnVuZChfcmVmMjcsIF9yZWYyOCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTgoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgc3RhdGUsIGZ1bmROYW1lLCBmdW5kU3ltYmwsIHRva2VuUHJpY2UsIGRlcG9zaXRBbXQsIGltZ1VybCwgZGVwb3NpdEFtdEluV2VpLCBmdW5kRmFjdG9yeUNvbnRyYWN0LCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxOCQoX2NvbnRleHQxOCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE4LnByZXYgPSBfY29udGV4dDE4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMjcuY29tbWl0LCBzdGF0ZSA9IF9yZWYyNy5zdGF0ZTsKICAgICAgICAgICAgICAgIGZ1bmROYW1lID0gX3JlZjI4LmZ1bmROYW1lLCBmdW5kU3ltYmwgPSBfcmVmMjguZnVuZFN5bWJsLCB0b2tlblByaWNlID0gX3JlZjI4LnRva2VuUHJpY2UsIGRlcG9zaXRBbXQgPSBfcmVmMjguZGVwb3NpdEFtdCwgaW1nVXJsID0gX3JlZjI4LmltZ1VybDsKICAgICAgICAgICAgICAgIGRlcG9zaXRBbXRJbldlaSA9IFdlYjMudXRpbHMudG9XZWkoZGVwb3NpdEFtdCwgJ2V0aGVyJyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTAuZGlzcGF0Y2goImdldEZ1bmRGYWN0b3J5Q29udHJhY3QiKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgZnVuZEZhY3RvcnlDb250cmFjdCA9IF9jb250ZXh0MTguc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gZnVuZEZhY3RvcnlDb250cmFjdC5tZXRob2RzLmNyZWF0ZUZ1bmQoZnVuZE5hbWUsIGZ1bmRTeW1ibCwgdG9rZW5QcmljZSwgaW1nVXJsKS5zZW5kKHsKICAgICAgICAgICAgICAgICAgZnJvbTogX3RoaXMxMC5zdGF0ZS5hY2NvdW50LAogICAgICAgICAgICAgICAgICB2YWx1ZTogZGVwb3NpdEFtdEluV2VpCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQxOC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMC5kaXNwYXRjaCgibG9hZEZ1bmREYXRhIik7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldE5GVHNJbkFkZHJlc3M6IGZ1bmN0aW9uIGdldE5GVHNJbkFkZHJlc3MoX3JlZjI5LCBfcmVmMzApIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE5KCkgewogICAgICAgIHZhciBjb21taXQsIHN0YXRlLCBhZGRyZXNzLCBvcHRpb25zLCBuZnRzSW5BZGRyZXNzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTkkKF9jb250ZXh0MTkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOS5wcmV2ID0gX2NvbnRleHQxOS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjI5LmNvbW1pdCwgc3RhdGUgPSBfcmVmMjkuc3RhdGU7CiAgICAgICAgICAgICAgICBhZGRyZXNzID0gX3JlZjMwLmFkZHJlc3M7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhZGRyZXNzKTsKICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICAgIGNoYWluOiAicmlua2VieSIsCiAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IGFkZHJlc3MKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIE1vcmFsaXMuV2ViM0FQSS5hY2NvdW50LmdldE5GVHMob3B0aW9ucyk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIG5mdHNJbkFkZHJlc3MgPSBfY29udGV4dDE5LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhuZnRzSW5BZGRyZXNzKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgic2V0TmZ0TGlzdEluQWRkcmVzcyIsIHsKICAgICAgICAgICAgICAgICAgbmZ0TGlzdDogbmZ0c0luQWRkcmVzc1sicmVzdWx0Il0sCiAgICAgICAgICAgICAgICAgIGZ1bmRBZGRyZXNzOiBhZGRyZXNzCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LmFicnVwdCgicmV0dXJuIiwgbmZ0c0luQWRkcmVzcyk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxOSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfSk7"},{"version":3,"sources":["/Users/gauthamgsabahit/workspace/jointnft/jointnft-dapp/src/store/index.js"],"names":["Vue","Vuex","fetch","Web3","Web3Modal","Moralis","axios","collectionABI","require","fundFactoryABI","nftFundVotingJson","iAuctionHouseAbi","ethAddress","use","providerOptions","web3Modal","network","cacheProvider","roundToTwo","num","Math","round","findLowestSaleAmount","orders","lowest_sale_price","i","wei","split","listing_price","utils","fromWei","console","log","Store","state","web3","provider","accounts","networkId","chainId","active","account","maticBalance","nftListInFund","collectionList","collectionDetails","ownerAddress","contractBalance","tokenStartPrice","tokenPrice","userTokenBalance","buyingEnabled","sellingEnabled","nftDetails","isError","getters","getFunds","nftFunds","getNoOfFunds","length","mutations","setWeb3","setWeb3Modal","setProvider","setAccounts","setAccount","eth","defaultAccount","setActive","isActive","setNetworkId","setChainId","setMaticBalance","setNftListInAddress","nftList","fundAddress","set","setCollectionList","setCollectionDetails","setNFTList","setIsError","err","actions","connectToWallet","commit","connect","getAccounts","net","getId","alert","on","info","parseInt","dispatch","loadCollections","get","then","response","data","loadNFTs","getFundContract","fundChecksumAddress","toChecksumAddress","fundContract","Contract","buyFundTokens","maticAmount","contractId","weiAmount","toWei","methods","buyTokens","send","value","from","sellFundTokens","tokenAmount","sellTokens","pauseBuyAndSell","toggleTokenConversion","toggleBuy","toggleBuying","toggleSell","toggleSelling","transferFunds","toAddress","to","ethAmount","refreshBalance","collectionContractId","getMaticBalance","getBalance","Number","toFixed","getCollectionDetails","call","_tokenBuyPrice","tokenBuyPrice","_tokenSellPrice","tokenSellPrice","name","symbol","totalSupply","balanceOf","setTokenPrice","isBuyBeingModified","res","createFund","fundName","fundSymbl","depositAmt","imgUrl","depositAmtInWei","fundFactoryContract","getNFTsInAddress","address","options","chain","Web3API","getNFTs","nftsInAddress"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport fetch from \"cross-fetch\";\nimport Web3 from \"web3\";\nimport Web3Modal from \"web3modal\";\nimport Moralis from \"../plugins/moralis\";\nimport axios from \"axios\";\n\nconst collectionABI = require(\"../contractDetails/collection.json\")[\"abi\"];\nconst fundFactoryABI = require(\"../contractDetails/FundFactory.json\")[\"abi\"];\nconst nftFundVotingJson = require(\"../contractDetails/nftFundVoting.json\");\nconst iAuctionHouseAbi = require(\"../contractDetails/IAuctionHouse.json\")[\"abi\"];\nconst ethAddress = \"0x0000000000000000000000000000000000000000\";\n\nVue.use(Vuex);\n\nconst providerOptions = {\n  /* See Provider Options Section */\n};\n\nconst web3Modal = new Web3Modal({\n  network: \"mainnet\", // optional\n  cacheProvider: true, // optional\n  providerOptions, // required\n});\n\nfunction roundToTwo(num) {\n  return +(Math.round(num + \"e+2\") + \"e-2\");\n}\n\n//gets lowest sale amount from opensea API //NOT IN USE ANYMORE\nfunction findLowestSaleAmount(orders) {\n  var lowest_sale_price = 999999;\n  for (var i of orders) {\n    if (i[\"side\"] == 1) {\n      var wei = i[\"current_price\"].split(\".\")[0];\n      var listing_price = Web3.utils.fromWei(wei, \"ether\");\n      if (listing_price < lowest_sale_price) {\n        lowest_sale_price = listing_price;\n      }\n    }\n  }\n  console.log(lowest_sale_price);\n  return roundToTwo(lowest_sale_price);\n}\n\nexport default new Vuex.Store({\n  state: {\n    web3: null,\n    provider: null,\n    accounts: null,\n    networkId: null,\n    chainId: 0,\n    active: false,\n    account: null,\n    web3Modal: null,\n    maticBalance: 0,\n    nftListInFund: {},\n    collectionList: [],\n    collectionDetails: {\n      ownerAddress: \"\",\n      contractBalance: 0,\n      tokenStartPrice: 0,\n      tokenPrice: 0,\n      userTokenBalance: 0,\n      buyingEnabled: true,\n      sellingEnabled: true,\n    },\n    nftDetails: {},\n    isError: 0,\n  },\n  getters: {\n    getFunds(state) {\n      return state.nftFunds;\n    },\n    getNoOfFunds(state) {\n      return state.nftFunds.length;\n    },\n  },\n  mutations: {\n    setWeb3(state, web3) {\n      state.web3 = web3;\n    },\n    setWeb3Modal(state, web3Modal) {\n      state.web3Modal = web3Modal;\n    },\n    setProvider(state, provider) {\n      state.provider = provider;\n    },\n    setAccounts(state, accounts) {\n      state.accounts = accounts;\n    },\n    setAccount(state, account) {\n      state.account = account;\n      state.web3.eth.defaultAccount = account;\n    },\n    setActive(state, isActive) {\n      state.active = isActive;\n    },\n    setNetworkId(state, networkId) {\n      state.networkId = networkId;\n    },\n    setChainId(state, chainId) {\n      state.chainId = chainId;\n    },\n    setMaticBalance(state, maticBalance) {\n      state.maticBalance = maticBalance;\n    },\n    setNftListInAddress(state, { nftList, fundAddress }) {\n      Vue.set(state.nftListInFund, fundAddress, nftList);\n    },\n    setCollectionList(state, collectionList) {\n      state.collectionList = collectionList;\n    },\n    setCollectionDetails(state, collectionDetails) {\n      state.collectionDetails = collectionDetails;\n      // Vue.set(state.collectionDetails, ownerAddress, collectionDetails.ownerAddress);\n      // Vue.set(state.collectionDetails, tokenStartPrice, collectionDetails.tokenStartPrice);\n      // Vue.set(state.collectionDetails, tokenPrice, collectionDetails.tokenPrice);\n      // Vue.set(state.collectionDetails, name, collectionDetails.name);\n      // Vue.set(state.collectionDetails, symbol, collectionDetails.symbol);\n      // Vue.set(state.collectionDetails, userTokenBalance, collectionDetails.userTokenBalance);\n      // Vue.set(state.collectionDetails, contractBalance, collectionDetails.contractBalance);\n    },\n    setNFTList(state, nftList) {\n      state.nftDetails = nftList;\n    },\n    setIsError(state, err) {\n      state.isError = err;\n    },\n  },\n  actions: {\n    async connectToWallet({ commit }) {\n      const provider = await web3Modal.connect();\n      const web3 = new Web3(provider);\n      commit(\"setWeb3\", web3);\n      commit(\"setProvider\", provider);\n\n      //  Get Accounts\n      const accounts = await web3.eth.getAccounts();\n      commit(\"setAccounts\", accounts);\n      if (accounts.length > 0) {\n        commit(\"setAccount\", accounts[0]);\n      }\n\n      const networkId = await web3.eth.net.getId();\n      console.log(networkId);\n      if (networkId != 4) {\n        alert(\"Switch to Rinkeby network\");\n        console.log(\"not connected to Rinkeby Network\");\n      }\n      commit(\"setNetworkId\", networkId);\n\n      commit(\"setActive\", true);\n\n      provider.on(\"connect\", async (info) => {\n        let chainId = parseInt(info.chainId);\n        commit(\"setChainId\", chainId);\n        console.log(\"connect\", info);\n      });\n\n      provider.on(\"accountsChanged\", async (accounts) => {\n        if (accounts.length > 0) {\n          commit(\"setAccount\", accounts[0]);\n        } else {\n          await dispatch(\"resetApp\");\n        }\n        console.log(\"accountsChanged\");\n      });\n\n      provider.on(\"chainChanged\", async (chainId) => {\n        chainId = parseInt(chainId);\n        commit(\"setChainId\", chainId);\n        console.log(\"chainChanged\", chainId);\n      });\n    },\n\n    async loadCollections({ commit, state }) {\n      axios.get(\"/getCollections\").then(function(response) {\n        console.log(response.data);\n        commit(\"setCollectionList\", response.data);\n      });\n    },\n\n    async loadNFTs({ commit, state }) {\n      axios.get(\"/getNFTs\").then(function(response) {\n        console.log(response.data);\n        commit(\"setNFTList\", response.data);\n      });\n    },\n\n    async getFundContract({ commit, state }, fundAddress) {\n      try {\n        var fundChecksumAddress = Web3.utils.toChecksumAddress(fundAddress);\n        var fundContract = new state.web3.eth.Contract(collectionABI, fundChecksumAddress);\n        return fundContract;\n      } catch (error) {\n        console.log(error);\n        console.log(\"connected contract not found\");\n        return null;\n      }\n    },\n\n    async buyFundTokens({ commit }, { maticAmount, contractId }) {\n      try {\n        var fundContract = await this.dispatch(\"getFundContract\", contractId);\n        var weiAmount = Web3.utils.toWei(maticAmount, 'ether');\n        await fundContract.methods.buyTokens().send({\n          value: weiAmount,\n          from: this.state.account,\n        });\n        this.dispatch(\"refreshBalance\", contractId);\n        commit(\"setIsError\", 0);\n        //return false;\n      } catch (error) {\n        console.log(error);\n        commit(\"setIsError\", 1);\n      }\n    },\n\n    async sellFundTokens({ commit }, { tokenAmount, contractId }) {\n      try {\n        var fundContract = await this.dispatch(\"getFundContract\", contractId);\n        console.log(tokenAmount);\n        tokenAmount = Web3.utils.toWei(tokenAmount, 'ether');\n        // todo: multiple tokenAmount by 10^18 before sending\n        await fundContract.methods.sellTokens(tokenAmount).send({\n          from: this.state.account,\n        });\n        console.log(contractId);\n        this.dispatch(\"refreshBalance\", contractId);\n        commit(\"setIsError\", 0);\n      } catch (error) {\n        console.log(error);\n        commit(\"setIsError\", 1);\n      }\n    },\n\n    async pauseBuyAndSell({ commit }, { contractId }) {\n      var fundContract = await this.dispatch(\"getFundContract\", contractId);\n\n      await fundContract.methods.toggleTokenConversion().send({\n        from: this.state.account,\n      });\n      this.dispatch(\"refreshBalance\", contractId);\n    },\n\n    async toggleBuy({ commit }, { contractId }) {\n      try {\n        var fundContract = await this.dispatch(\"getFundContract\", contractId);\n\n        await fundContract.methods.toggleBuying().send({\n          from: this.state.account,\n        });\n        this.dispatch(\"refreshBalance\", contractId);\n        commit(\"setIsError\", 0);\n      } catch (error) {\n        console.log(error);\n        commit(\"setIsError\", 1);\n      }\n    },\n\n    async toggleSell({ commit }, { contractId }) {\n      try {\n        var fundContract = await this.dispatch(\"getFundContract\", contractId);\n\n        await fundContract.methods.toggleSelling().send({\n          from: this.state.account,\n        });\n        this.dispatch(\"refreshBalance\", contractId);\n        commit(\"setIsError\", 0);\n      } catch (error) {\n        console.log(error);\n        commit(\"setIsError\", 1);\n      }\n    },\n\n    async transferFunds({ commit }, { contractId, toAddress, value }) {\n      try {\n        var fundContract = await this.dispatch(\"getFundContract\", contractId);\n        var to = Web3.utils.toChecksumAddress(toAddress);\n        var ethAmount = Web3.utils.toWei(value, 'ether');\n        await fundContract.methods.transferFunds(to, ethAmount).send({\n          from: this.state.account,\n        });\n        commit(\"setIsError\", 0);\n      } catch (error) {\n        console.log(error);\n        commit(\"setIsError\", 1);\n      }\n    },\n\n    async refreshBalance({}, fundAddress) {\n      await this.dispatch(\"getMaticBalance\");\n      await this.dispatch(\"getCollectionDetails\", { collectionContractId: fundAddress });\n    },\n\n    async getMaticBalance({ commit, state }) {\n      var maticBalance = await state.web3.eth.getBalance(state.account);\n      commit(\"setMaticBalance\", Number(Web3.utils.fromWei(maticBalance, \"ether\")).toFixed(3));\n    },\n\n    async getCollectionDetails({ commit, state }, { collectionContractId }) {\n      var collectionDetails = {};\n\n      var fundContract = await this.dispatch(\"getFundContract\", collectionContractId);\n      collectionDetails.ownerAddress = await fundContract.methods.ownerAddress().call();\n      var tokenBuyPrice = await fundContract.methods._tokenBuyPrice().call();\n      collectionDetails.tokenBuyPrice = Number(Web3.utils.fromWei(tokenBuyPrice, \"ether\")).toFixed(3);\n      var tokenSellPrice = await fundContract.methods._tokenSellPrice().call();\n      collectionDetails.tokenSellPrice = Number(Web3.utils.fromWei(tokenSellPrice, \"ether\")).toFixed(3);\n      collectionDetails.name = await fundContract.methods.name().call();\n      collectionDetails.symbol = await fundContract.methods.symbol().call();\n      collectionDetails.totalSupply = Number(Web3.utils.fromWei(await fundContract.methods.totalSupply().call())).toFixed(3);\n      var userTokenBalance = await fundContract.methods.balanceOf(state.account).call();\n      collectionDetails.userTokenBalance = Number(Web3.utils.fromWei(userTokenBalance, \"ether\")).toFixed(3);\n      var contractBalance = await state.web3.eth.getBalance(collectionContractId);\n      collectionDetails.contractBalance = Number(Web3.utils.fromWei(contractBalance, \"ether\")).toFixed(3);\n      // collectionDetails.buyingEnabled=true;\n      // collectionDetails.sellingEnabled=true;\n      collectionDetails.buyingEnabled = await fundContract.methods.buyingEnabled().call();\n      collectionDetails.sellingEnabled = await fundContract.methods.sellingEnabled().call();\n\n      commit(\"setCollectionDetails\", collectionDetails);\n    },\n\n    async setTokenPrice({ commit }, { tokenPrice, isBuyBeingModified, contractId }) {\n      try {\n        var fundContract = await this.dispatch(\"getFundContract\", contractId);\n        var res = await fundContract.methods.setTokenPrice(tokenPrice, isBuyBeingModified).send({\n          from: this.state.account,\n        });\n\n        await this.dispatch(\"refreshBalance\", contractId);\n        commit(\"setIsError\", 0);\n      } catch (error) {\n        console.log(error);\n        commit(\"setIsError\", 1);\n      }\n    },\n\n    async createFund({ commit, state }, { fundName, fundSymbl, tokenPrice, depositAmt, imgUrl }) {\n      var depositAmtInWei = Web3.utils.toWei(depositAmt, 'ether');\n      var fundFactoryContract = await this.dispatch(\"getFundFactoryContract\");\n      var res = await fundFactoryContract.methods.createFund(fundName, fundSymbl, tokenPrice, imgUrl).send({\n        from: this.state.account,\n        value: depositAmtInWei,\n      });\n\n      await this.dispatch(\"loadFundData\");\n    },\n\n    async getNFTsInAddress({ commit, state }, { address }) {\n      console.log(address);\n      const options = { chain: \"rinkeby\", address: address };\n      const nftsInAddress = await Moralis.Web3API.account.getNFTs(options);\n      console.log(nftsInAddress);\n      commit(\"setNftListInAddress\", { nftList: nftsInAddress[\"result\"], fundAddress: address });\n      return nftsInAddress;\n    },\n  },\n});\n"]}]}