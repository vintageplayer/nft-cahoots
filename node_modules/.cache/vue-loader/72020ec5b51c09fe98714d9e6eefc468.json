{"remainingRequest":"/Users/gauthamgsabahit/workspace/jointnft/jointnft-dapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gauthamgsabahit/workspace/jointnft/jointnft-dapp/src/components/fundDetails/FundDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/gauthamgsabahit/workspace/jointnft/jointnft-dapp/src/components/fundDetails/FundDetails.vue","mtime":1643603191418},{"path":"/Users/gauthamgsabahit/workspace/jointnft/jointnft-dapp/node_modules/cache-loader/dist/cjs.js","mtime":1641967408297},{"path":"/Users/gauthamgsabahit/workspace/jointnft/jointnft-dapp/node_modules/babel-loader/lib/index.js","mtime":1641967408435},{"path":"/Users/gauthamgsabahit/workspace/jointnft/jointnft-dapp/node_modules/cache-loader/dist/cjs.js","mtime":1641967408297},{"path":"/Users/gauthamgsabahit/workspace/jointnft/jointnft-dapp/node_modules/vue-loader/lib/index.js","mtime":1641967405306}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBFbmRab3JhQXVjdGlvbiBmcm9tICIuL2VuZFpvcmFBdWN0aW9uLnZ1ZSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgRW5kWm9yYUF1Y3Rpb24KICB9LAogIGNvbXB1dGVkOiB7CiAgICBnZXRDb2xsZWN0aW9uRGV0YWlscygpIHsKICAgICAgdmFyIGRldGFpbHMgPSB0aGlzLiRzdG9yZS5zdGF0ZS5jb2xsZWN0aW9uRGV0YWlsczsKICAgICAgaWYoZGV0YWlscyA9PSBudWxsIHx8IGRldGFpbHMgPT0ge30pIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgICAgcmV0dXJuIGRldGFpbHM7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgcmVmcmVzaEJhbGFuY2VzKCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgicmVmcmVzaEJhbGFuY2UiLCB0aGlzLiRyb3V0ZS5xdWVyeS5jb250cmFjdElkKTsKICAgICAgCiAgICB9LAogICAgYnV5RnVuZFRva2VucygpIHsKICAgICAgdGhpcy5sb2FkaW5nX2J1eT10cnVlOwogICAgICB0aGlzLiRzdG9yZQogICAgICAgIC5kaXNwYXRjaCgiYnV5RnVuZFRva2VucyIsIHsKICAgICAgICAgIG1hdGljQW1vdW50OiB0aGlzLm1hdGljQW1vdW50LAogICAgICAgICAgY29udHJhY3RJZDogdGhpcy4kcm91dGUucXVlcnkuY29udHJhY3RJZCwKICAgICAgICB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMubG9hZGluZ19idXk9ZmFsc2U7CiAgICAgICAgICB0aGlzLiR2VG9hc3RpZnkuc3VjY2VzcygiVG9rZW5zIGJvdWdodCEiKTsKICAgICAgICAgIHRoaXMucmVmcmVzaEJhbGFuY2VzKCk7CiAgICAgICAgfSk7CiAgICB9LAogICAgc2VsbEZ1bmRUb2tlbnMoKSB7CiAgICAgIHRoaXMubG9hZGluZ19zZWxsPXRydWU7CiAgICAgIHRoaXMuJHN0b3JlCiAgICAgICAgLmRpc3BhdGNoKCJzZWxsRnVuZFRva2VucyIsIHsKICAgICAgICAgIHRva2VuQW1vdW50OiB0aGlzLnRva2VuQW1vdW50LAogICAgICAgICAgY29udHJhY3RJZDogdGhpcy4kcm91dGUucXVlcnkuY29udHJhY3RJZCwKICAgICAgICB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMucmVmcmVzaEJhbGFuY2VzKCk7CiAgICAgICAgICB0aGlzLmxvYWRpbmdfc2VsbD1mYWxzZTsKICAgICAgICAgIHRoaXMuJHZUb2FzdGlmeS5zdWNjZXNzKCJUb2tlbnMgc29sZCEiKTsgICAgICAgICAKICAgICAgICB9KTsKICAgIH0sCiAgICBtb2RpZnlUb2tlblByaWNlKCkgewogICAgICB0aGlzLiRzdG9yZQogICAgICAgIC5kaXNwYXRjaCgibW9kaWZ5VG9rZW5QcmljZSIsIHsKICAgICAgICAgIHRva2VuUHJpY2U6IHRoaXMudG9rZW5QcmljZSwKICAgICAgICAgIGNvbnRyYWN0SWQ6IHRoaXMuJHJvdXRlLnF1ZXJ5LmNvbnRyYWN0SWQsCiAgICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLiR2VG9hc3RpZnkuc3VjY2VzcygiVG9rZW5zIFByaWNlIG1vZGlmaWVkISIpOwogICAgICAgIH0pOwogICAgfSwKICAgIHBhdXNlQnV5U2VsbCgpewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgicGF1c2VCdXlBbmRTZWxsIix7Y29udHJhY3RJZDogdGhpcy4kcm91dGUucXVlcnkuY29udHJhY3RJZH0pCiAgICB9LAoKICAgIGdldE5GVHNJbkNvbnRyYWN0KCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0TkZUc0luQ29udHJhY3QiLCB7YWRkcmVzczogdGhpcy4kcm91dGUucXVlcnkuY29udHJhY3RJZH0pOwogICAgfSwKICAgIHRyYW5zZmVyRnVuZHMoKXsKICAgICAgdGhpcy5sb2FkVHJhbnNmZXJGdW5kPXRydWU7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJ0cmFuc2ZlckZ1bmRzIix7CiAgICAgICAgY29udHJhY3RJZDogdGhpcy4kcm91dGUucXVlcnkuY29udHJhY3RJZCwKICAgICAgICB0b0FkZHJlc3M6IHRoaXMudG9BZGRyZXNzLAogICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlCiAgICAgIH0pLnRoZW4oKCk9PnsKICAgICAgICB0aGlzLnJlZnJlc2hCYWxhbmNlcygpOwogICAgICAgIHRoaXMubG9hZFRyYW5zZmVyRnVuZD1mYWxzZTsKICAgICAgICB0aGlzLmRpYWxvZz1mYWxzZTsKICAgICAgICB0aGlzLiR2VG9hc3RpZnkuc3VjY2VzcygiRnVuZHMgc3VjY2Vzc2Z1bGx5IHRyYW5zZmVycmVkIik7CiAgICAgIH0pOwogICAgfSwKICB9LAogIGRhdGE6ICgpID0+ICh7CiAgICBudW1iZXJSdWxlOiAodikgPT4gewogICAgICBpZiAodiAhPSBudWxsICYmIHYgIT0gIiIgJiYgIXYudHJpbSgpKSByZXR1cm4gdHJ1ZTsKICAgICAgaWYgKCFpc05hTihwYXJzZUZsb2F0KHYpKSkgcmV0dXJuIHRydWU7CiAgICAgIHJldHVybiAiRW50ZXIgYSBudW1iZXIiOwogICAgfSwKICAgIGRpYWxvZzogZmFsc2UsCiAgICBtYXRpY0Ftb3VudDogMCwKICAgIHRva2VuQW1vdW50OiAwLAogICAgdG9rZW5QcmljZTogMCwKICAgIHZhbHVlOiAwLAogICAgdG9BZGRyZXNzOiIiLAogICAgbG9hZGluZ19idXk6ZmFsc2UsCiAgICBsb2FkaW5nX3NlbGw6ZmFsc2UsCiAgICBsb2FkVHJhbnNmZXJGdW5kOmZhbHNlLAogIH0pLAogIHByb3BzOiBbIm93bmVyIiwgImNvbm5lY3RlZEFjY291bnQiXSwKfTsK"},{"version":3,"sources":["FundDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FundDetails.vue","sourceRoot":"src/components/fundDetails","sourcesContent":["<template>\n  <v-container>\n    <v-row>\n      <v-col> ETH in Wallet: {{ $store.state.maticBalance }} </v-col>\n      <v-col> tokenBalance: {{ getCollectionDetails.userTokenBalance }} </v-col>\n    </v-row>\n    <v-row>\n      <v-col> TokenPrice: {{ getCollectionDetails.tokenPrice || 0 }} </v-col>\n      <v-col>\n        Token Starting Price: {{ getCollectionDetails.tokenStartPrice || 0 }}\n      </v-col>\n    </v-row>\n    <v-row>\n      <v-col>\n        ETH in Fund: {{ getCollectionDetails.contractBalance || 0 }}\n      </v-col>\n      <v-col> owner: {{ getCollectionDetails.ownerAddress || 0 }} </v-col>\n    </v-row>\n    <v-row\n      ><v-col> <v-divider /></v-col>\n    </v-row>\n    <v-row>\n      <v-text-field\n        v-model=\"maticAmount\"\n        :rules=\"[numberRule]\"\n        label=\"Enter amount of eth\"\n      ></v-text-field>\n      <v-btn v-on:click=\"buyFundTokens\"> Buy Tokens \n         <div v-if=\"loading_buy\" v-cloak>\n            <v-icon class=\"fa fa-spinner fa-spin\"></v-icon>\n         </div>\n      </v-btn>\n    </v-row>\n    <v-row>\n      <v-text-field\n        v-model=\"tokenAmount\"\n        :rules=\"[numberRule]\"\n        label=\"Enter amount of Tokens to sell\"\n      ></v-text-field>\n      <v-btn v-on:click=\"sellFundTokens\"> Sell Tokens \n       <div v-if=\"loading_sell\" v-cloak>\n         <v-icon class=\"fa fa-spinner fa-spin\"></v-icon>\n       </div>  \n      </v-btn>\n    </v-row>\n    <v-row v-if=\"owner == connectedAccount\">\n      <v-text-field\n        v-model=\"tokenPrice\"\n        :rules=\"[numberRule]\"\n        label=\"Enter the new tokenPrice(In Wei) 1 ETH = 10^18 wei\"\n      ></v-text-field>\n      <v-btn v-on:click=\"modifyTokenPrice\"> Modify Token Price </v-btn>\n    </v-row>\n    <v-row v-if=\"owner == connectedAccount\">\n      <v-col>\n        <v-btn v-on:click=\"pauseBuySell\"> Pause Buy/Sell </v-btn>\n      </v-col>\n      <v-col>\n        <v-dialog v-model=\"dialog\" persistent width=\"500\">\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn v-bind=\"attrs\" v-on=\"on\"> Transfer Funds </v-btn>\n          </template>\n          <v-card>\n            <v-card-title>\n              <span class=\"text-h5\"> Transfer Funds </span>\n            </v-card-title>\n            <v-card-text>\n              <v-container>\n                <v-row>\n                  <v-col>\n                     <v-text-field v-model=\"toAddress\" label=\"Enter the reciever's address\" required></v-text-field>\n                     <v-text-field v-model=\"value\" :rules=\"[numberRule]\" label=\" Value \" required></v-text-field>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </v-card-text>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n                <v-btn color=\"blue darken-1\" text @click=\"dialog = false\">Close</v-btn>\n                <v-btn color=\"blue darken-1\" text @click=\"transferFunds()\"> Continue \n                  <div v-if=\"loadTransferFund\" v-cloak>\n                    <v-icon class=\"fa fa-spinner fa-spin\"></v-icon>\n                  </div>\n                </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-col>\n    </v-row>\n    <!-- <v-row> -->\n      <!-- <v-col> -->\n      <!-- <EndZoraAuction/></v-col> -->\n    <!-- </v-row> -->\n  </v-container>\n</template>\n\n<script>\nimport EndZoraAuction from \"./endZoraAuction.vue\";\n\nexport default {\n  components: {\n    EndZoraAuction\n  },\n  computed: {\n    getCollectionDetails() {\n      var details = this.$store.state.collectionDetails;\n      if(details == null || details == {}) {\n        return {};\n      }\n      return details;\n    },\n  },\n  methods: {\n    refreshBalances() {\n      this.$store.dispatch(\"refreshBalance\", this.$route.query.contractId);\n      \n    },\n    buyFundTokens() {\n      this.loading_buy=true;\n      this.$store\n        .dispatch(\"buyFundTokens\", {\n          maticAmount: this.maticAmount,\n          contractId: this.$route.query.contractId,\n        })\n        .then(() => {\n          this.loading_buy=false;\n          this.$vToastify.success(\"Tokens bought!\");\n          this.refreshBalances();\n        });\n    },\n    sellFundTokens() {\n      this.loading_sell=true;\n      this.$store\n        .dispatch(\"sellFundTokens\", {\n          tokenAmount: this.tokenAmount,\n          contractId: this.$route.query.contractId,\n        })\n        .then(() => {\n          this.refreshBalances();\n          this.loading_sell=false;\n          this.$vToastify.success(\"Tokens sold!\");         \n        });\n    },\n    modifyTokenPrice() {\n      this.$store\n        .dispatch(\"modifyTokenPrice\", {\n          tokenPrice: this.tokenPrice,\n          contractId: this.$route.query.contractId,\n        })\n        .then(() => {\n          this.$vToastify.success(\"Tokens Price modified!\");\n        });\n    },\n    pauseBuySell(){\n      this.$store.dispatch(\"pauseBuyAndSell\",{contractId: this.$route.query.contractId})\n    },\n\n    getNFTsInContract() {\n      this.$store.dispatch(\"getNFTsInContract\", {address: this.$route.query.contractId});\n    },\n    transferFunds(){\n      this.loadTransferFund=true;\n      this.$store.dispatch(\"transferFunds\",{\n        contractId: this.$route.query.contractId,\n        toAddress: this.toAddress,\n        value: this.value\n      }).then(()=>{\n        this.refreshBalances();\n        this.loadTransferFund=false;\n        this.dialog=false;\n        this.$vToastify.success(\"Funds successfully transferred\");\n      });\n    },\n  },\n  data: () => ({\n    numberRule: (v) => {\n      if (v != null && v != \"\" && !v.trim()) return true;\n      if (!isNaN(parseFloat(v))) return true;\n      return \"Enter a number\";\n    },\n    dialog: false,\n    maticAmount: 0,\n    tokenAmount: 0,\n    tokenPrice: 0,\n    value: 0,\n    toAddress:\"\",\n    loading_buy:false,\n    loading_sell:false,\n    loadTransferFund:false,\n  }),\n  props: [\"owner\", \"connectedAccount\"],\n};\n</script>\n"]}]}